requisitos: comandas, arquitectura mvc (todo ordenado), roles, sesiones, uso de tokens,
vistas: (mozo, cliente, cocina, caja, menu, administrador)

cliente:	el cliente podrÃ¡ ver el menÃº o lo que ofrece la cevicherÃ­a al escanear un cÃ³digo QR desde su mesa, el cual lo redireccionarÃ¡ a la vista del menÃº virtual.
		no serÃ¡ necesario registrarse ni iniciar sesiÃ³n, solo escanear y navegar. desde esta vista podrÃ¡ revisar los platos disponibles, sus descripciones, ingredientes, precios y algunas reseÃ±as de otros clientes.

menu virtual: 	Muestra los productos disponibles con una breve descripciÃ³n, los ingredientes de cada plato, su precio actualizado y pequeÃ±as reseÃ±as de clientes que ya los probaron.
		El menÃº estarÃ¡ organizado por categorÃ­as (entradas, ceviches, platos calientes, bebidas, postres) para facilitar la navegaciÃ³n. Los productos podrÃ¡n incluir etiquetas visuales como â€œpicanteâ€, â€œrecomendadoâ€, â€œnuevoâ€ o â€œmÃ¡s vendidoâ€, ayudando al cliente en su elecciÃ³n.
		Esta vista estarÃ¡ disponible mediante un QR Ãºnico para todo el local o mediante un enlace (por ejemplo, para pedidos por delivery).
		Nota importante: Al escanear el QR, no se marcarÃ¡ automÃ¡ticamente la mesa como ocupada, ya que el QR es el mismo para todas. La gestiÃ³n del estado de la mesa (disponible u ocupada) serÃ¡ responsabilidad del mozo, quien podrÃ¡ hacerlo desde su interfaz al momento de tomar el pedido.

mozo: 		El mozo podrÃ¡ ver los sitios disponibles y no disponibles para acomodar al cliente, considerando que el local puede tener mÃ¡s de un piso, asÃ­ como distintas zonas como niÃ±os, terraza, barra, 
		zona de espera (en caso de pedidos para llevar), salÃ³n privado o eventos, y delivery. Los distintos pisos y zonas deben estar visibles en la interfaz del mozo para que pueda marcar la mesa como ocupada.
		Para tomar el pedido, el mozo primero debe seleccionar la mesa junto con la zona que prefiera el cliente, facilitando asÃ­ la correcta asignaciÃ³n y distribuciÃ³n del pedido en cocina.
		Luego, desde la misma vista, podrÃ¡ ubicar los platos organizados por categorÃ­as, incluyendo bebidas, para una selecciÃ³n rÃ¡pida y sencilla.
		Desde la misma vista podrÃ¡ acceder al menÃº organizado por categorÃ­as y tomar el pedido, aÃ±adiendo modificadores como bebidas adicionales o cortesÃ­as, y permitiendo detalles especiales por plato (ej. "ceviche sin cebolla").

		En caso de que un plato sea modificado o cancelado desde cocina, el mozo recibirÃ¡ una alerta visual discreta (sin notificaciones emergentes ni sonidos) que le permitirÃ¡ estar al tanto de la situaciÃ³n y comunicÃ¡rselo al cliente si es necesario.
		Adicionalmente, podrÃ¡ visualizar en todo momento el estado de cada plato mediante un sistema de colores que facilita el seguimiento y evita la sobrecarga de informaciÃ³n:
	
		- ğŸŸ¢ En cola: el pedido fue recibido por cocina, pero aÃºn no ha comenzado su preparaciÃ³n.
		- ğŸŸ¡ En preparaciÃ³n: el plato estÃ¡ siendo elaborado por la cocina.
		- ğŸ”´ Listo para entregar: el plato estÃ¡ terminado y listo para ser retirado.
		- âšª Entregado / servido: el plato ya fue entregado al cliente.
		- ğŸŸ  Cancelado o modificado: el plato fue cancelado o tuvo cambios que requieren atenciÃ³n.

		Estos colores estarÃ¡n visibles junto a cada plato en la interfaz del mozo, ayudando a gestionar mÃºltiples mesas de forma eficiente y sin distracciones.

		Finalmente, el mozo podrÃ¡ marcar los platos como entregados, cerrando el ciclo del pedido y actualizando el sistema de cocina.


cocina: 
   		Una vez que el mozo haya enviado el pedido del cliente, este aparecerÃ¡ en la vista de cocina en tiempo real, mostrando informaciÃ³n clave como el nÃºmero de mesa, zona, piso, especificaciones especiales, nombre o ID del mozo, fecha y hora del pedido. 
   		Los pedidos se organizarÃ¡n automÃ¡ticamente por hora de llegada para facilitar la gestiÃ³n.

    		
    		SegÃºn los platos pedidos, estos deben ser asignados a sus respectivas estaciones (por ejemplo: frÃ­os, calientes, bebidas, postres), ya sea manualmente o automÃ¡ticamente.

    		Se implementarÃ¡ un sistema de notificaciones discretas para alertar al personal de cocina en caso de que un pedido sea cancelado o modificado, evitando interrupciones molestas pero garantizando que no se pierda informaciÃ³n importante.

    		La interfaz permitirÃ¡ el uso tanto en pantalla tÃ¡ctil como mediante comandos rÃ¡pidos por teclado, y contarÃ¡ con una funciÃ³n de pantalla completa o modo TV para cocinas mÃ¡s grandes.
    		Cada plato dentro del pedido deberÃ¡ pasar por diferentes etapas visibles en la interfaz, con estados representados por colores para facilitar el seguimiento rÃ¡pido:

    		- ğŸŸ¢ En cola: plato recibido pero aÃºn no iniciado.
    		- ğŸŸ¡ En preparaciÃ³n: plato en proceso activo de elaboraciÃ³n.
    		- ğŸ”´ Listo para entregar: plato terminado y disponible para entrega.
    		- âšª Entregado / servido: plato retirado por el mozo o entregado al cliente.
    		- ğŸŸ  Cancelado o modificado: plato cancelado o modificado, con alerta inmediata al personal.

	    	AdemÃ¡s, la cocina tendrÃ¡ acceso a un historial bÃ¡sico de pedidos finalizados, cancelados o modificados para revisiÃ³n y trazabilidad.

caja:		desde esta vista, el cajero podrÃ¡ ver las comandas listas para ser cobradas. cada comanda mostrarÃ¡ el detalle de la mesa, zona, piso, mozo que atendiÃ³, hora del pedido, platos solicitados, cantidades y total a pagar.
		el cajero podrÃ¡ seleccionar la comanda correspondiente y procesar el pago, eligiendo entre los mÃ©todos disponibles como efectivo o tarjeta.
		una vez recibido el pago, la comanda serÃ¡ marcada como cerrada y la mesa quedarÃ¡ libre para que el mozo pueda asignarla nuevamente a otro cliente.
		el pago deberÃ¡ quedar registrado en el sistema para control y posibles reportes futuros.
		(opcional) se podrÃ­a incluir un historial de transacciones con filtros por fecha, mozo o tipo de pago, accesible Ãºnicamente para el administrador y con acceso limitado para caja, en caso se requiera para auditorÃ­as.

administrador:	desde esta vista, el administrador podrÃ¡ supervisar el funcionamiento general del sistema.
		tendrÃ¡ acceso a todas las vistas (mozo, cocina, caja, menÃº virtual y cliente), con la posibilidad de consultar pedidos, pagos y estados de las mesas en tiempo real.
		podrÃ¡ realizar modificaciones simples como agregar, editar o eliminar productos del menÃº, asÃ­ como cambiar precios o marcar productos como â€œagotadosâ€.
		tambiÃ©n podrÃ¡ configurar las zonas del local (como terraza, barra, salÃ³n privado, etc.), definir el nÃºmero de mesas por zona y piso, y actualizar la disponibilidad general del espacio.
		tendrÃ¡ acceso a un historial bÃ¡sico de comandas finalizadas y ventas del dÃ­a, Ãºtil para llevar un control general sin necesidad de reportes avanzados.
		podrÃ¡ gestionar los usuarios del sistema, como mozos y cajeros, asignÃ¡ndoles roles y accesos segÃºn su funciÃ³n.

vista menu, vista para mozo (osea los sitios), vista para la cocina

https://www.youtube.com/shorts/sbKPrVR-yqI
https://www.youtube.com/shorts/64DPDCj09Jk
para caja
https://www.youtube.com/shorts/3LHnTQUi0bg

idea para cliente
https://www.youtube.com/shorts/8LGywKEKNqs

1. Cliente

Acciones:

	Escanea un QR â†’ redirige a vista del menÃº virtual

	Puede ver: Platos, descripciÃ³n, ingredientes, precio

	ReseÃ±as de otros clientes

Vista cliente (pÃºblica, no requiere login):


	/menu

	DiseÃ±o responsivo

	BotÃ³n para ver reseÃ±as, ingredientes

2. ğŸ½ï¸ Mozo

Acciones:

	Ve mesas disponibles/no disponibles

	Visualiza plano del local (pisos y zonas: terraza, barra, niÃ±os, etc.)

	Selecciona mesa y zona

	Toma pedido por categorÃ­as (comidas, bebidas)
	
	AÃ±ade modificadores y observaciones (ej. â€œsin cebollaâ€)

	Envia pedido (comanda) a cocina

Vista mozo (requiere login):

/mozo/mesas

/mozo/tomar-pedido

/mozo/ordenes

# ğŸ¯ CONTEXTO GENERAL DEL PROYECTO

Estoy desarrollando un sistema de gestiÃ³n para una cevicherÃ­a con:

- **Python + Flask** como backend
- **MySQL** como base de datos (administrada vÃ­a phpMyAdmin)
- Tengo roles definidos como: cliente, mozo, cocina, caja, administrador
- Ya estÃ¡ implementado el sistema de login, pero **actualmente solo muestra un mensaje** (â€œingreso exitosoâ€) y **no redirige a la vista correspondiente segÃºn el rol**
- Ya tengo parte del menÃº y la base de datos con productos, usuarios y pedidos.

---

# ğŸ”„ CAMBIOS Y ACTUALIZACIONES NECESARIAS

## âœ… LOGIN Y REDIRECCIÃ“N POR ROL

Quiero que, al iniciar sesiÃ³n, el sistema detecte el rol del usuario y lo redirija automÃ¡ticamente a la vista correspondiente:

| Rol        | Ruta destino         | Vista que debe cargar            |
|------------|----------------------|----------------------------------|
| mozo       | `/mozo`              | Vista de control de mesas y pedidos |
| cocina     | `/cocina`            | Vista Kanban por estaciÃ³n        |
| administrador | `/admin`         | Vista de supervisiÃ³n general     |
| caja       | `/caja`              | *ğŸ”´ AÃºn no implementada*         |

---

## ğŸ§¾ FUNCIONALIDAD DEL MENÃš VIRTUAL Y QR

Actualmente, el sistema genera **un QR diferente por mesa**, pero quiero cambiar eso por simplicidad:

- El **QR serÃ¡ Ãºnico para todo el local**.
- Al escanear el QR, el cliente ve el **menÃº virtual** sin necesidad de iniciar sesiÃ³n.
- El menÃº estÃ¡ organizado por categorÃ­as, y muestra platos con:
  - Nombre, descripciÃ³n, ingredientes, precio
  - Etiquetas visuales: â€œpicanteâ€, â€œrecomendadoâ€, â€œmÃ¡s vendidoâ€, etc.
  - ReseÃ±as de otros clientes

- El cliente **no debe poder pedir directamente** desde esta vista.
- El **mozo es quien debe iniciar el pedido**, y al hacerlo, debe poder:
  - Seleccionar la mesa manualmente
  - Marcarla como ocupada
  - Iniciar la comanda desde su panel

---

## ğŸ½ï¸ VISTA DE COCINA â€” ESTILO KANBAN

La cocina estarÃ¡ organizada por **estaciones**:
- frÃ­os
- calientes
- bebidas
- postres

Cada estaciÃ³n tendrÃ¡ **su propio usuario Ãºnico**, por ejemplo:
- `cocina1` â†’ frÃ­os
- `cocina2` â†’ calientes

Cada usuario solo puede iniciar sesiÃ³n en **un dispositivo a la vez**.

### âœ” Al iniciar sesiÃ³n, el usuario de cocina:
- SerÃ¡ redirigido a `/cocina`
- VerÃ¡ un **tablero estilo Kanban** dividido por estados de plato:

ğŸŸ¢ En cola â†’ plato recibido
ğŸŸ¡ En preparaciÃ³n â†’ plato en proceso
ğŸ”´ Listo para entregar â†’ plato terminado
âšª Entregado / servido â†’ entregado al cliente
ğŸŸ  Cancelado o modificado â†’ cambio importante

### ğŸ’¡ Detalles tÃ©cnicos:
- Solo debe ver los platos asignados a su estaciÃ³n (segÃºn el campo `estacion` del usuario y del plato).
- Las tarjetas de plato deben poder moverse entre columnas con **drag & drop** (usa SortableJS o similar).
- Al cambiar el estado, debe enviarse una solicitud al backend (`/cambiar_estado`) para actualizar en la base de datos.
- OpciÃ³n extra: resaltar platos si llevan mucho tiempo en un estado (ej: mÃ¡s de 10 minutos).

---

## ğŸ§‘â€ğŸ³ VISTA DE MOZO

Ruta: `/mozo`

El mozo debe poder:
- Ver todas las mesas por piso y zona (ej: terraza, barra, etc.)
- Ver cuÃ¡les estÃ¡n disponibles, ocupadas, en espera, etc.
- Seleccionar una mesa para iniciar un nuevo pedido
- Ver los productos por categorÃ­a (igual que el cliente)
- Agregar platos al pedido con modificadores (ej: sin cebolla)
- Enviar el pedido a cocina

Adicional:
- Si cocina cancela o modifica un plato, debe recibir un **alerta visual discreta** (no notificaciones emergentes).
- El mozo ve el estado de cada plato con un cÃ³digo de color (ğŸŸ¢ğŸŸ¡ğŸ”´âšªğŸŸ ).

---

## ğŸ› ï¸ VISTA DE ADMINISTRADOR

Ruta: `/admin`

El administrador debe tener acceso a:
- Supervisar en tiempo real:
  - Estado de las mesas
  - Pedidos en curso
  - Vista general de cocina y mozos
- Modificar el menÃº:
  - Agregar, editar, eliminar productos
  - Cambiar precios
  - Marcar productos como agotados
- Configurar el local:
  - Definir zonas (terraza, barra, etc.)
  - Asignar nÃºmero de mesas por zona y piso
- Ver un historial de ventas bÃ¡sico
- Gestionar usuarios del sistema

---

# ğŸš« VISTA DE CAJA

âš ï¸ Por el momento, **no implementar la vista de caja**.  
Se implementarÃ¡ mÃ¡s adelante una vez que el resto del flujo estÃ© funcional.


## ğŸš€ **FUNCIONALIDADES ACTIVAS:**

âœ… **Sesiones MÃºltiples Independientes**
âœ… **ContraseÃ±as Ãšnicas por Usuario**
âœ… **MenÃº del Restaurante Funcionando**
âœ… **Auto-logout 5 minutos**
âœ… **Zona Horaria Lima (UTC-5)**
âœ… **Interface Bootstrap Moderna**
âœ… **Panel Administrativo Completo**
âœ… **Base de Datos Optimizada**

---
    El sistema tambien debe tener y agegarse mas

## ğŸª **ESTACIONES DE COCINA:**
- **FrÃ­os:** Ceviches, tiraditos, causas
- **Calientes:** Arroces, sudados, sopas
- **Frituras:** Chicharrones, jaleas
- **Bebidas:** Jugos, tragos, gaseosas
- **Postres:** Dulces y postres
- **AcompaÃ±amientos:** Guarniciones y extras